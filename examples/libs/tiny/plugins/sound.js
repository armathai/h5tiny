!function(){var n=window;Tiny.Cache.sound={},Tiny.Loader.prototype.sound=function(n,o){o&&this.list.push({key:n,src:o,type:"sound"})},Tiny.Loader.sound=function(n,o){if(Tiny.Cache.sound[n.key])return o();var e=new window.Howl({src:[n.src]});e.once("load",(function(){Tiny.Cache.sound[n.key]=e,o()}))},Tiny.registerSystem("sound",class{constructor(n){this.game=n}volume(o){n.Howler&&n.Howler.volume(o)}loop(n,o){var e=Tiny.Cache.sound[n];return e&&(void 0!==o&&e.volume(o),e.loop(!0),e.play()),e}play(o,e){var r=Tiny.Cache.sound[o];return r&&"running"===n.Howler.state&&(void 0!==e&&r.volume(e),r.play()),r}fade(o,e,r){var u=Tiny.Cache.sound[o];return null==e&&(e=1),null==r&&(r=600),u&&"running"===n.Howler.state&&(u.fade(e,0,r),u.play()),u}destroy(n){for(var o in Tiny.Cache.sound)Tiny.Cache.sound[o].stop();if(n)for(var o in Tiny.Cache.sound)Tiny.Cache.sound[o].unload()}})}();
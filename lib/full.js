!function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=40)}([function(t,e,i){i(1),window.Tiny=i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(12)},function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()}),"undefined"==typeof Float32Array&&(window.Float32Array=Array)},function(t,e){var o=function(t,e,i,n,r){i=i?document.getElementById(i):document.body,this._preboot(t,e,n,r),this.renderer=new o.CanvasRenderer(this.width,this.height,{autoResize:!0});var s=this.canvas=this.inputView=this.renderer.view;i.appendChild(s),s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.transformOrigin="0% 0%",s.style.perspective="1000px",this._boot()};o.prototype._preload=function(){this.preload.call(this.callbackContext),this.state=1,o.Loader?this.load.start(this._create):this._create()},o.prototype.setPixelRatio=function(t){this.renderer.resolution=t},o.prototype._render=function(){this.renderer.render(this.stage)},o.prototype.resize=function(t,e,i){this._resize(t,e,i)},o.prototype.destroy=function(){this._destroy()},t.exports=o},function(t,e){function r(){}var s=!1,i={_preboot:function(t,e,i,n){this.height=e||720,this.width=t||430,n=n||{},(this.callbackContext=this).state=0,this.preload=this.preload||n.preload||r,this.create=this.create||n.create||r,this.update=this.update||n.update||r,this._resize_cb=this._resize_cb||n.resize||r,this._destroy_cb=this._destroy_cb||n.destroy||r,this.stage=new Tiny.Stage(this),"object"==typeof window.TWEEN&&(s=!0),this._raf=i&&Tiny.RAF,this.time={timeToCall:15},this.paused=!1,this.pauseDuration=0,this.tweens=[]},_boot:function(){Tiny.Loader&&(this.load=new Tiny.Loader(this)),Tiny.ObjectCreator&&(this.add=new Tiny.ObjectCreator(this)),Tiny.Input&&(this.input=new Tiny.Input(this)),Tiny.TimerCreator&&(this.timer=new Tiny.TimerCreator(this)),Tiny.Particles&&(this.particles=new Tiny.Particles(this)),this._raf&&(this.raf=new Tiny.RAF(this)),Tiny.defaultRenderer=this.renderer;var t=this;setTimeout(function(){t._preload()},0)},_resize:function(t,e,i){this.width=t||this.width,this.height=e||this.height,this.renderer.resize(this.width,this.height),0<this.state&&this._resize_cb.call(this.callbackContext,this.width,this.height,i)},_create:function(){this.create.call(this.callbackContext),this._raf&&this.raf.start(),this.state=2},pause:function(){if(!this.paused){if(s)for(var t in this.tweens.length=0,TWEEN._tweens)this.tweens.push(TWEEN._tweens[t]),TWEEN._tweens[t].pause();this.paused=!0}},resume:function(){this.paused&&(s&&(this.tweens.forEach(function(t){t.resume()}),this.tweens.length=0),this.paused=!1)},_update:function(t,e){this.paused?(this.pauseDuration+=e,this.stage.updateTransform()):(this.update.call(this.callbackContext,t,e),s&&TWEEN.update(),this.timers&&this.timers.forEach(function(t){t.update(e)}),this.stage.updateTransform(),this.particles&&this.particles.update(e)),this._render()},_destroy:function(){for(var t in Tiny.Input&&this.input.destroy(),s&&TWEEN.removeAll(),this.timers&&this.timer.removeAll(),this.paused=!0,this.stage.destroy(),Tiny.TextureCache)Tiny.TextureCache[t].destroy(!0);for(var t in Tiny.BaseTextureCache)Tiny.BaseTextureCache[t].destroy();Tiny.BaseTextureCache=[],Tiny.TextureCache=[],this.stage.children=[],this.update(),this.renderer.destroy(!0),this._raf&&this.raf.stop(),this._destroy_cb.call(this.callbackContext)}};for(var n in i.stop=i.pause,i.play=i.resume,i.setSize=i.resize,i)Tiny.prototype[n]=i[n]},function(t,e){Tiny.VERSION="1.4.4",Tiny._UID=0,Tiny.Polygon=function(){},Tiny.Primitives={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4,RREC_LJOIN:5},Tiny.rnd=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},Tiny.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},Tiny.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},Tiny.getNextPowerOfTwo=function(t){if(0<t&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},Tiny.isPowerOfTwo=function(t,e){return 0<t&&0==(t&t-1)&&0<e&&0==(e&e-1)}},function(t,e){Tiny.Math={distance:function(t,e,i,n){var r=t-i,s=e-n;return Math.sqrt(r*r+s*s)}};var i=Math.PI/180,n=180/Math.PI;Tiny.Math.degToRad=function(t){return t*i},Tiny.Math.radToDeg=function(t){return t*n}},function(t,e){Tiny.Point=function(t,e){this.x=t||0,this.y=e||0},Tiny.Point.prototype={set:function(t,e){return this.x=t||0,this.y=e||(0!==e?this.x:0),this},setTo:function(t,e){this.set(t,e)}}},function(t,e){Tiny.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.type=Tiny.MATRIX},Tiny.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Tiny.Matrix.prototype.toArray=function(t){this.array||(this.array=new Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},Tiny.Matrix.prototype.apply=function(t,e){e=e||new Tiny.Point;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},Tiny.Matrix.prototype.applyInverse=function(t,e){e=e||new Tiny.Point;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,r=t.y;return e.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},Tiny.Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Tiny.Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Tiny.Matrix.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,s=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},Tiny.Matrix.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},Tiny.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Tiny.identityMatrix=new Tiny.Matrix},function(t,e){Tiny.Rectangle=function(t,e,i,n){t=t||0,e=e||0,i=i||0,n=n||0,this.x=t,this.y=e,this.width=i,this.height=n,this.type=Tiny.Primitives.RECT},Tiny.Rectangle.prototype={setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},contains:function(t,e){return Tiny.Rectangle.contains(this,t,e)},intersects:function(t){return Tiny.Rectangle.intersects(this,t)}},Object.defineProperty(Tiny.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(Tiny.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(Tiny.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Tiny.Rectangle.prototype.constructor=Tiny.Rectangle,Tiny.Rectangle.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&(e>=t.x&&e<t.right&&i>=t.y&&i<t.bottom)},Tiny.Rectangle.containsPoint=function(t,e){return Tiny.Rectangle.contains(t,e.x,e.y)},Tiny.Rectangle.containsRect=function(t,e){return!(t.volume>e.volume)&&(t.x>=e.x&&t.y>=e.y&&t.right<e.right&&t.bottom<e.bottom)},Tiny.Rectangle.intersects=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)},Tiny.EmptyRectangle=new Tiny.Rectangle(0,0,0,0)},function(t,e){var a=2*Math.PI;Tiny.DisplayObject=function(){this.position=new Tiny.Point(0,0),this.scale=new Tiny.Point(1,1),this.pivot=new Tiny.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this.worldTransform=new Tiny.Matrix,this._sr=0,this._cr=1,this._bounds=new Tiny.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1,this.input=null},Object.defineProperty(Tiny.DisplayObject.prototype,"inputEnabled",{get:function(){return this.input&&this.input.enabled},set:function(t){t?null===this.input?(this.input={enabled:!0,parent:this},Tiny.EventTarget.mixin(this.input)):this.input.enabled=!0:null!==this.input&&(this.input.enabled=!1)}}),Tiny.DisplayObject.prototype.constructor=Tiny.DisplayObject,Tiny.DisplayObject.prototype.destroy=function(){if(this.children){for(var t=this.children.length;t--;)this.children[t].destroy();this.children=[]}this.parent&&this.parent.removeChild(this),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.renderable=!1,this._destroyCachedSprite()},Object.defineProperty(Tiny.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(Tiny.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(Tiny.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),Tiny.DisplayObject.prototype.updateTransform=function(){var t,e,i,n,r,s,o,h;this.parent&&(t=this.parent.worldTransform,e=this.worldTransform,this.rotation%a?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),i=this._cr*this.scale.x,n=this._sr*this.scale.x,r=-this._sr*this.scale.y,s=this._cr*this.scale.y,o=this.position.x,h=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*i+this.pivot.y*r,h-=this.pivot.x*n+this.pivot.y*s),e.a=i*t.a+n*t.c,e.b=i*t.b+n*t.d,e.c=r*t.a+s*t.c,e.d=r*t.b+s*t.d):(i=this.scale.x,s=this.scale.y,o=this.position.x-this.pivot.x*i,h=this.position.y-this.pivot.y*s,e.a=i*t.a,e.b=i*t.b,e.c=s*t.c,e.d=s*t.d),e.tx=o*t.a+h*t.c+t.tx,e.ty=o*t.b+h*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha)},Tiny.DisplayObject.prototype.displayObjectUpdateTransform=Tiny.DisplayObject.prototype.updateTransform,Tiny.DisplayObject.prototype.getBounds=function(t){return Tiny.EmptyRectangle},Tiny.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(Tiny.identityMatrix)},Tiny.DisplayObject.prototype.setStageReference=function(t){this.stage=t},Tiny.DisplayObject.prototype.preUpdate=function(){},Tiny.DisplayObject.prototype.generateTexture=function(t,e){var i=this.getLocalBounds(),n=new Tiny.RenderTexture(0|i.width,0|i.height,e,t);return Tiny.DisplayObject._tempMatrix.tx=-i.x,Tiny.DisplayObject._tempMatrix.ty=-i.y,n.render(this,Tiny.DisplayObject._tempMatrix),n},Tiny.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},Tiny.DisplayObject.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},Tiny.DisplayObject.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},Tiny.DisplayObject.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha,Tiny.Sprite.prototype._renderCanvas.call(this._cachedSprite,t)},Tiny.DisplayObject.prototype._generateCachedSprite=function(){this._cachedSprite=null,this._cacheAsBitmap=!1;var t,e=this.getLocalBounds();this._cachedSprite?this._cachedSprite.texture.resize(0|e.width,0|e.height):(t=new Tiny.RenderTexture(0|e.width,0|e.height),this._cachedSprite=new Tiny.Sprite(t),this._cachedSprite.worldTransform=this.worldTransform),Tiny.DisplayObject._tempMatrix.tx=-e.x,Tiny.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,Tiny.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._cacheAsBitmap=!0},Tiny.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},Tiny.DisplayObject.prototype._renderCanvas=function(t){0},Object.defineProperty(Tiny.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(Tiny.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),Tiny.DisplayObject._tempMatrix=new Tiny.Matrix},function(t,e){Tiny.DisplayObjectContainer=function(){Tiny.DisplayObject.call(this),this.children=[]},Tiny.DisplayObjectContainer.prototype=Object.create(Tiny.DisplayObject.prototype),Tiny.DisplayObjectContainer.prototype.constructor=Tiny.DisplayObjectContainer,Object.defineProperty(Tiny.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(Tiny.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),Tiny.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},Tiny.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(0<=e&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,t.game=this.game,this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},Tiny.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);if(i<0||n<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=e,this.children[n]=t}},Tiny.DisplayObjectContainer.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},Tiny.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},Tiny.DisplayObjectContainer.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},Tiny.DisplayObjectContainer.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},Tiny.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this.children.splice(t,1),e},Tiny.DisplayObjectContainer.prototype.removeChildren=function(t,e){var i=t||0,n="number"==typeof e?e:this.children.length,r=n-i;if(0<r&&r<=n){for(var s=this.children.splice(i,r),o=0;o<s.length;o++){var h=s[o];this.stage&&h.removeStageReference(),h.parent=void 0}return s}if(0==r&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},Tiny.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0,e=this.children.length;t<e;t++)this.children[t].updateTransform()},Tiny.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=Tiny.DisplayObjectContainer.prototype.updateTransform,Tiny.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return Tiny.EmptyRectangle;if(this._cachedSprite)return this._cachedSprite.getBounds();for(var t,e,i,n=1/0,r=1/0,s=-1/0,o=-1/0,h=!1,a=0,u=this.children.length;a<u;a++){this.children[a].visible&&(h=!0,n=n<(t=this.children[a].getBounds()).x?n:t.x,r=r<t.y?r:t.y,s=(e=t.width+t.x)<s?s:e,o=(i=t.height+t.y)<o?o:i)}if(!h)return Tiny.EmptyRectangle;var l=this._bounds;return l.x=n,l.y=r,l.width=s-n,l.height=o-r,l},Tiny.DisplayObjectContainer.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=Tiny.identityMatrix;for(var e=0,i=this.children.length;e<i;e++)this.children[e].updateTransform();var n=this.getBounds();return this.worldTransform=t,n},Tiny.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t;for(var e=0;e<this.children.length;e++)this.children[e].setStageReference(t)},Tiny.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0;t<this.children.length;t++)this.children[t].removeStageReference();this.stage=null},Tiny.DisplayObjectContainer.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(t);else{this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0;e<this.children.length;e++)this.children[e]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}},function(t,e){Tiny.Stage=function(t){Tiny.DisplayObjectContainer.call(this),this.worldTransform=new Tiny.Matrix,this.game=t,(this.stage=this).setBackgroundColor(16777215)},Tiny.Stage.prototype=Object.create(Tiny.DisplayObjectContainer.prototype),Tiny.Stage.prototype.constructor=Tiny.Stage,Tiny.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},Tiny.Stage.prototype.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=Tiny.hex2rgb(this.backgroundColor);var e=this.backgroundColor.toString(16),e="000000".substr(0,6-e.length)+e;this.backgroundColorString="#"+e}},function(t,e){Tiny.CanvasRenderer=function(t,e,i){i=i||{},this.resolution=null!=i.resolution?i.resolution:1,this.clearBeforeRender=null==i.clearBeforeRender||i.clearBeforeRender,this.transparent=null!=i.transparent&&i.transparent,this.autoResize=i.autoResize||!1,this.width=t||800,this.height=e||600,this.width*=this.resolution,this.height*=this.resolution,this.view=i.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width,this.view.height=this.height,Tiny.CanvasMaskManager&&(this.maskManager=new Tiny.CanvasMaskManager),this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:0,smoothProperty:null,roundPixels:!1},this.resize(t,e),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},Tiny.CanvasRenderer.prototype.constructor=Tiny.CanvasRenderer,Tiny.CanvasRenderer.prototype.render=function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode="source-over",this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=t.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t)},Tiny.CanvasRenderer.prototype.destroy=function(t){void 0===t&&(t=!0),t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},Tiny.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},Tiny.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession)}},function(t,e,i){i(0),i(14),i(15),i(16),i(17),i(18)},function(t,e){var r,s,o,h,a,i=function(){return(new Date).getTime()};void 0!==self.performance&&void 0!==self.performance.now?i=self.performance.now.bind(self.performance):void 0!==Date.now&&(i=Date.now),Tiny.RAF=function(t,e){void 0===e&&(e=!1),this.game=t,this.isRunning=!1,this.forceSetTimeOut=e;for(var i=["ms","moz","webkit","o"],n=0;n<i.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[n]+"CancelAnimationFrame"]||window[i[n]+"CancelRequestAnimationFrame"];r=!1,o=s=null,a=h=0},Tiny.RAF.prototype={start:function(){h=i(),this.isRunning=!0;var t=this;o=!window.requestAnimationFrame||this.forceSetTimeOut?(r=!0,s=function(){return t.updateSetTimeout()},window.setTimeout(s,0)):(r=!1,s=function(){return t.updateRAF()},window.requestAnimationFrame(s))},updateRAF:function(){a=i(),this.isRunning&&(this.game._update(Math.floor(a),a-h),o=window.requestAnimationFrame(s)),h=a},updateSetTimeout:function(){a=i(),this.isRunning&&(this.game._update(Math.floor(a),a-h),o=window.setTimeout(s,this.game.time.timeToCall)),h=a},stop:function(){r?clearTimeout(o):window.cancelAnimationFrame(o),this.isRunning=!1},isSetTimeOut:function(){return r},isRAF:function(){return!1===r}}},function(t,e){Tiny.BaseTextureCache={},Tiny.BaseTextureCacheIdGenerator=0,Tiny.BaseTexture=function(t){var e;this.resolution=1,this.width=100,this.height=100,this.hasLoaded=!1,this.source=t,this._UID=Tiny._UID++,this.premultipliedAlpha=!0,this.mipmap=!1,this._dirty=[!0,!0,!0,!0],t&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height?(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()):(e=this).source.onload=function(){e.hasLoaded=!0,e.width=e.source.naturalWidth||e.source.width,e.height=e.source.naturalHeight||e.source.height},this.imageUrl=null,this._powerOf2=!1)},Tiny.BaseTexture.prototype.constructor=Tiny.BaseTexture,Tiny.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete Tiny.BaseTextureCache[this.key],delete Tiny.TextureCache[this.key],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete Tiny.BaseTextureCache[this.source._pixiId],this.source=null},Tiny.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},Tiny.BaseTexture.prototype.dirty=function(){},Tiny.BaseTexture.fromImage=function(t,e,i){var n,r=Tiny.BaseTextureCache[t];return void 0===i&&-1===e.indexOf("data:")&&(i=!0),r||(n=new Image,i&&(n.crossOrigin=""),n.src=e,(r=new Tiny.BaseTexture(n)).imageUrl=e,r.key=t,Tiny.BaseTextureCache[t]=r),r},Tiny.BaseTexture.fromCanvas=function(t){t._pixiId||(t._pixiId="canvas_"+Tiny.TextureCacheIdGenerator++);var e=Tiny.BaseTextureCache[t._pixiId];return e||(e=new Tiny.BaseTexture(t),Tiny.BaseTextureCache[t._pixiId]=e),e}},function(t,e){Tiny.TextureCache={},Tiny.FrameCache={},Tiny.TextureSilentFail=!1,Tiny.TextureCacheIdGenerator=0,Tiny.Texture=function(t,e,i,n){this.noFrame=!1,e||(this.noFrame=!0,e=new Tiny.Rectangle(0,0,1,1)),t instanceof Tiny.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||new Tiny.Rectangle(0,0,1,1),t.hasLoaded&&(this.noFrame&&(e=new Tiny.Rectangle(0,0,t.width,t.height)),this.setFrame(e))},Tiny.Texture.prototype.constructor=Tiny.Texture,Tiny.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;this.noFrame&&(this.frame=new Tiny.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame)},Tiny.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},Tiny.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,this.trim||!(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs();else{if(!Tiny.TextureSilentFail)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=!1}},Tiny.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new Tiny.TextureUvs);var t=this.crop,e=this.baseTexture.width,i=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/i,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/i,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/i,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/i},Tiny.Texture.fromImage=function(t,e,i){var n=Tiny.TextureCache[t];return n||((n=new Tiny.Texture(Tiny.BaseTexture.fromImage(t,e,i))).key=t,Tiny.TextureCache[t]=n),n},Tiny.Texture.fromFrame=function(t){var e=Tiny.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache ');return e},Tiny.Texture.fromCanvas=function(t){var e=Tiny.BaseTexture.fromCanvas(t);return new Tiny.Texture(e)},Tiny.Texture.addTextureToCache=function(t,e){Tiny.TextureCache[e]=t},Tiny.Texture.removeTextureFromCache=function(t){var e=Tiny.TextureCache[t];return delete Tiny.TextureCache[t],delete Tiny.BaseTextureCache[t],e},Tiny.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}},function(t,e){Tiny.Sprite=function(t,e){Tiny.DisplayObjectContainer.call(this),this.anchor=new Tiny.Point,this.setTexture(t,e,!1),this._width=0,this._height=0,this._frame=0,this.tint=16777215,this.blendMode="source-over",this.shader=null,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},Tiny.Sprite.prototype=Object.create(Tiny.DisplayObjectContainer.prototype),Tiny.Sprite.prototype.constructor=Tiny.Sprite,Object.defineProperty(Tiny.Sprite.prototype,"frameName",{get:function(){return this.texture.frame.name},set:function(t){this.texture.frame.name&&this.setTexture(Tiny.TextureCache[this.texture.key+"_"+t])}}),Object.defineProperty(Tiny.Sprite.prototype,"frame",{get:function(){return this._frame},set:function(t){this.texture.max_no_frame&&(this._frame=t,this._frame>this.texture.max_no_frame&&(this._frame=0),this.setTexture(Tiny.TextureCache[this.texture.key+"_"+this._frame]))}}),Object.defineProperty(Tiny.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(Tiny.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),Tiny.Sprite.prototype.setTexture=function(t,e,i){if("string"==typeof t){var n=t;if(null!=e&&(n=n+"_"+e),!(t=Tiny.TextureCache[n]))throw new Error("Cache Error: image "+n+" does`t found in cache")}return this.texture!==t&&(this.texture=t,this.cachedTint=16777215,!0===i&&this.onTextureUpdate(),!0)},Tiny.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},Tiny.Sprite.prototype.animate=function(t){var e;this.texture.max_no_frame&&null!=this.texture.frame.index&&(e=t||this.texture.frame.duration||100,this.animation?this.animation.delay=e:this.animation=this.game.timer.loop(e,function(){this.frame+=1,this.animation.delay=t||this.texture.frame.duration||100}.bind(this)),this.animation.start())},Tiny.Sprite.prototype.getBounds=function(t){var e,i,n,r,s,o,h,a,u=this.texture.frame.width,l=this.texture.frame.height,c=u*(1-this.anchor.x),d=u*-this.anchor.x,p=l*(1-this.anchor.y),y=l*-this.anchor.y,f=t||this.worldTransform,T=f.a,g=f.b,x=f.c,m=f.d,v=f.tx,b=f.ty,w=-1/0,_=-1/0,C=1/0,S=1/0,_=0===g&&0===x?(T<0&&(T*=-1),m<0&&(m*=-1),C=T*d+v,w=T*c+v,S=m*y+b,m*p+b):(C=(h=T*d+x*p+v)<(C=(s=T*c+x*p+v)<(C=(n=T*c+x*y+v)<(C=(e=T*d+x*y+v)<C?e:C)?n:C)?s:C)?h:C,S=(a=m*p+g*d+b)<(S=(o=m*p+g*c+b)<(S=(r=m*y+g*c+b)<(S=(i=m*y+g*d+b)<S?i:S)?r:S)?o:S)?a:S,w=(w=(w=(w=w<e?e:w)<n?n:w)<s?s:w)<h?h:w,(_=(_=(_=_<i?i:_)<r?r:_)<o?o:_)<a?a:_),P=this._bounds;return P.x=C,P.width=w-C,P.y=S,P.height=_-S,this._currentBounds=P},Tiny.Sprite.prototype._renderCanvas=function(t){if(!(!1===this.visible||0===this.alpha||!1===this.renderable||this.texture.crop.width<=0||this.texture.crop.height<=0)){var e,i,n;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.currentBlendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this.texture.valid&&(e=this.texture.baseTexture.resolution/t.resolution,t.context.globalAlpha=this.worldAlpha,i=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,n=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,t.roundPixels?(t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution|0,this.worldTransform.ty*t.resolution|0),i|=0,n|=0):t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution,this.worldTransform.ty*t.resolution),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=Tiny.CanvasTinter.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,i/e,n/e,this.texture.crop.width/e,this.texture.crop.height/e)):t.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,i/e,n/e,this.texture.crop.width/e,this.texture.crop.height/e));for(var r=0;r<this.children.length;r++)this.children[r]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}},function(t,e){Tiny.Text=function(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,Tiny.Sprite.call(this,Tiny.Texture.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e)},Tiny.Text.prototype=Object.create(Tiny.Sprite.prototype),Tiny.Text.prototype.constructor=Tiny.Text,Object.defineProperty(Tiny.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(Tiny.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),Tiny.Text.prototype.setStyle=function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.lineSpacing=t.lineSpacing||0,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},Tiny.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},Tiny.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),i=[],n=0,r=this.determineFontProperties(this.style.font),s=0;s<e.length;s++){var o=this.context.measureText(e[s]).width;i[s]=o,n=Math.max(n,o)}var h=n+this.style.strokeThickness;this.style.dropShadow&&(h+=this.style.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var a,u,l=r.fontSize+this.style.strokeThickness+this.style.lineSpacing,c=l*e.length;if(this.style.dropShadow&&(c+=this.style.dropShadowDistance),this.canvas.height=(c-this.style.lineSpacing)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic",this.context.miterLimit=2,this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;for(var d=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,p=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance,s=0;s<e.length;s++)a=this.style.strokeThickness/2,u=this.style.strokeThickness/2+s*l+r.ascent,"right"===this.style.align?a+=n-i[s]:"center"===this.style.align&&(a+=(n-i[s])/2),this.style.fill&&this.context.fillText(e[s],a+d,u+p)}for(this.context.fillStyle=this.style.fill,s=0;s<e.length;s++)a=this.style.strokeThickness/2,u=this.style.strokeThickness/2+s*l+r.ascent,"right"===this.style.align?a+=n-i[s]:"center"===this.style.align&&(a+=(n-i[s])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[s],a,u),this.style.fill&&this.context.fillText(e[s],a,u);this.updateTexture()},Tiny.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},Tiny.Text.prototype._renderCanvas=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),Tiny.Sprite.prototype._renderCanvas.call(this,t)},Tiny.Text.prototype.determineFontProperties=function(t){var e=Tiny.Text.fontPropertiesCache[t];if(!e){e={};var i=Tiny.Text.fontPropertiesCanvas,n=Tiny.Text.fontPropertiesContext;n.font=t;var r=Math.ceil(n.measureText("|MÉq").width),s=2*(o=Math.ceil(n.measureText("|MÉq").width)),o=1.4*o|0;i.width=r,i.height=s,n.fillStyle="#f00",n.fillRect(0,0,r,s),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,o);for(var h,a=n.getImageData(0,0,r,s).data,u=a.length,l=4*r,c=0,d=!1,p=0;p<o;p++){for(h=0;h<l;h+=4)if(255!==a[c+h]){d=!0;break}if(d)break;c+=l}for(e.ascent=o-p,c=u-l,d=!1,p=s;o<p;p--){for(h=0;h<l;h+=4)if(255!==a[c+h]){d=!0;break}if(d)break;c-=l}e.descent=p-o,e.descent+=6,e.fontSize=e.ascent+e.descent,Tiny.Text.fontPropertiesCache[t]=e}return e},Tiny.Text.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),n=0;n<i.length;n++){for(var r=this.style.wordWrapWidth,s=i[n].split(" "),o=0;o<s.length;o++){var h=this.context.measureText(s[o]).width,a=h+this.context.measureText(" ").width;0===o||r<a?(0<o&&(e+="\n"),e+=s[o],r=this.style.wordWrapWidth-h):(r-=a,e+=" "+s[o])}n<i.length-1&&(e+="\n")}return e},Tiny.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),Tiny.Sprite.prototype.getBounds.call(this,t)},Tiny.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t||t)},Tiny.Text.fontPropertiesCache={},Tiny.Text.fontPropertiesCanvas=document.createElement("canvas"),Tiny.Text.fontPropertiesContext=Tiny.Text.fontPropertiesCanvas.getContext("2d")},function(t,e,i){i(13),i(20),i(21),i(22),i(23),i(24)},function(t,e){Tiny.ObjectCreator=function(t){this.game=t},Tiny.ObjectCreator.prototype={group:function(t,e){var i=new Tiny.DisplayObjectContainer;return this.game.stage.addChild(i),i.x=t||0,i.y=e||0,i},sprite:function(t,e,i,n){var r=new Tiny.Sprite(i,n);return r.frame=0,this.game.stage.addChild(r),r.x=t||0,r.y=e||0,r},text:function(t,e,i,n){i=new Tiny.Text(i,n);return this.game.stage.addChild(i),i.x=t||0,i.y=e||0,i},tileSprite:function(t,e,i,n,r,s){var o=new Tiny.TilingSprite(r,s,i,n);return this.game.stage.addChild(o),o.x=t||0,o.y=e||0,o},graphics:function(t,e){var i=new Tiny.Graphics;return this.game.stage.addChild(i),i.x=t||0,i.y=e||0,i}}},function(t,e){Tiny.Loader=function(t){this.game=t,this.cache=[]},Tiny.Loader.loadSpriteSheet=function(t,e){for(var i=e.length-1,n=0;n<=i;n++){var r=t+"_"+n;Tiny.TextureCache[r]=new Tiny.Texture(Tiny.BaseTextureCache[t],{index:n,x:Math.floor(e[n].x),y:Math.floor(e[n].y),width:Math.floor(e[n].width),height:Math.floor(e[n].height),duration:e[n].duration}),Tiny.TextureCache[r].key=t,Tiny.TextureCache[r].max_no_frame=i}return i},Tiny.Loader.parseSpriteSheet=function(t,e,i,n){var r=Tiny.BaseTextureCache[t],s=r.width,o=r.height;e<=0&&(e=Math.floor(-s/Math.min(-1,e))),i<=0&&(i=Math.floor(-o/Math.min(-1,i)));var h=Math.floor(s/e)*Math.floor(o/i);if(0==h)return null;for(var a=0,u=0,l=h-1,c={},d=0;d<h;d++){c={index:d,x:a,y:u,width:e,height:i,duration:n};var p=t+"_"+d;Tiny.TextureCache[p]=new Tiny.Texture(r,c),Tiny.TextureCache[p].key=t,Tiny.TextureCache[p].max_no_frame=l,s<(a+=e)+e&&(a=0,u+=i)}return l},Tiny.Loader.loadAtlas=function(t,e){for(var i=0;i<e.length;i++){var n=t+"_"+e[i].name;Tiny.TextureCache[n]=new Tiny.Texture(Tiny.BaseTextureCache[t],e[i]),Tiny.TextureCache[n].key=t}},Tiny.Loader.prototype={image:function(t,e){this.cache.push({src:e,key:t,cb:function(){}})},spritesheet:function(t,e,i,n,r){this.cache.push({src:e,key:t,cb:function(){"number"==typeof i?Tiny.TextureCache[t].max_no_frame=Tiny.Loader.parseSpriteSheet(t,i,n,r):0<i.length&&(Tiny.TextureCache[t].max_no_frame=Tiny.Loader.loadSpriteSheet(t,i))}})},atlas:function(t,e,i){this.cache.push({src:e,key:t,cb:function(){Tiny.Loader.loadAtlas(t,i)}})},start:function(r){var s=this.game,o=this.cache;0!=o.length?function t(){var e=!1,i=o.shift(),n=new Image;n.onload=function(){Tiny.BaseTextureCache[i.key]=new Tiny.BaseTexture(n),Tiny.TextureCache[i.key]=new Tiny.Texture(Tiny.BaseTextureCache[i.key]),Tiny.TextureCache[i.key].key=i.key,i.cb(),e||(n.onload=null,e=!0,0!=o.length?t():r.call(s))},n.src=i.src}():r.call(s)}}},function(t,e){var i,h,o,a,u,l;function c(t,e){var i,n,r,s=null;return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent?(o=!0,0<t.touches.length?s={x:t.touches[0].pageX,y:t.touches[0].pageY}:t.pageX&&t.pageY&&(s={x:t.pageX,y:t.pageY})):s={x:t.pageX,y:t.pageY},o&&t instanceof MouseEvent||null===s?null:(i=s.x,n=s.y,e&&a||(a=u.inputView.getBoundingClientRect()),s={x:i-(r=a).left,y:n-r.top})}function n(t,e,i){var n=c(e,i);if(null!==n){if("move"!=t){h.length=0,function t(e,i,n){if(e.inputEnabled&&e.worldVisible&&e.getBounds().contains(i,n)&&h.push(e),e.children&&0<e.children.length)for(var r=0;r<e.children.length;r++)t(e.children[r],i,n)}(u.stage,n.x,n.y);for(var r=h.length-1;0<=r;r--){var s,o=h[r];if(o.input["last_"+t]={x:n.x,y:n.y},o.input.emit(t,{x:n.x,y:n.y}),"up"!=t||(s=o.input.last_down)&&Tiny.Math.distance(s.x,s.y,n.x,n.y)<30&&o.input.emit("click",{x:n.x,y:n.y}),!o.input.transparent)break}}l.emit(t,{x:n.x,y:n.y})}}function r(t){n("move",i=t,!0)}function s(t){l.isDown=!1,n("up",i,!0)}function d(t){l.isDown=!0,n("down",i=t,!1)}Tiny.Input=function(t){u=t,h=[],i=null,(l=this).isDown=!1;var e=u.inputView.addEventListener;e("touchstart",d),e("touchmove",r),e("touchend",s),e("touchcancel",s),e("mousedown",d),e("mousemove",r),e("mouseup",s),Tiny.EventTarget.mixin(this)},Tiny.Input.prototype={destroy:function(){var t=u.inputView.removeEventListener;t("touchstart",d),t("touchmove",r),t("touchend",s),t("touchcancel",s),t("mousedown",d),t("mousemove",r),t("mouseup",s)}}},function(t,e){function a(){}function s(t,e,i,n,r,s,o,h){this.game=i,this._cb_=n||a,this.delay=null==r?1e3:r,this.loop=s,this._count=o||0,this._repeat=0<this._count,this.status=t,this._lastFrame=0,this.autoRemove=e,this._oncomplete=h||a}s.prototype={start:function(){this.status=1},pause:function(){this.status=0},stop:function(){this.status=0,this._lastFrame=0},update:function(t){this.status&&(this._lastFrame+=t,this._lastFrame>=this.delay&&(this._cb_(),this._lastFrame=0,this._repeat?(this._count--,0===this._count&&(this.status=0,this.autoRemove&&this.game.timer.remove(this),this._oncomplete())):this.loop||(this.status=0,this.autoRemove&&this.game.timer.remove(this))))}},Tiny.Timer=s,Tiny.TimerCreator=function(t){this.game=t,this.game.timers=[],this.autoStart=!0,this.autoRemove=!0},Tiny.TimerCreator.prototype={removeAll:function(){this.game.timers.forEach(function(t){t.stop()}),this.game.timers=[]},remove:function(t){var e=this.game.timers.indexOf(t);-1<e&&(t.stop(),this.game.timers.splice(e,1))},add:function(t,e,i,n){null==i&&(i=this.autoStart);var r=new s(i?1:0,null!=n?n:this.autoRemove,this.game,e,t);return this.game.timers.push(r),r},loop:function(t,e,i,n){null==i&&(i=this.autoStart);var r=new s(i?1:0,null!=n?n:this.autoRemove,this.game,e,t,!0);return this.game.timers.push(r),r},repeat:function(t,e,i,n){var r=new s(this.autoStart?1:0,this.autoRemove,this.game,i,t,!1,e,n);return this.game.timers.push(r),r}}},function(t,e){Tiny.EventTarget={call:function(t){t&&(t=t.prototype||t,Tiny.EventTarget.mixin(t))},mixin:function(t){t.listeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?this._listeners[t].slice():[]},t.emit=t.dispatchEvent=function(t,e){if(this._listeners=this._listeners||{},"object"==typeof t&&(t=(e=t).type),e&&!0===e.__isEventObject||(e=new Tiny.Event(this,t,e)),this._listeners&&this._listeners[t]){for(var i=this._listeners[t].slice(0),n=i.length,r=i[0],s=0;s<n;r=i[++s])if(r._cb_.call(r._ctx_,e),e.stoppedImmediate)return this;if(e.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,t,e),this},t.on=t.addEventListener=function(t,e,i){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push({_cb_:e,_ctx_:i}),this},t.once=function(t,e,i){this._listeners=this._listeners||{};var n=this;function r(){e.apply(i,arguments),n.off(t,e,i)}return r._originalHandler=e,this.on(t,r,i)},t.off=t.removeEventListener=function(t,e,i){if(this._listeners=this._listeners||{},!this._listeners[t])return this;for(var n=this._listeners[t],r=e?n.length:0;0<r--;)n[r]._cb_!==e&&n[r]._cb_._originalHandler!==e||(i&&n[r]._ctx_?n[r]._ctx_===i&&n.splice(n.indexOf(n[r]),1):i||n[r]._ctx_||n.splice(n.indexOf(n[r]),1));return 0===n.length&&delete this._listeners[t],this},t.removeAllListeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]&&delete this._listeners[t],this}}},Tiny.Event=function(t,e,i){for(var n in i)this[n]=i[n];this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=t,this.type=e,this.timeStamp=Date.now()},Tiny.Event.prototype.stopPropagation=function(){this.stopped=!0},Tiny.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0}},function(t,e){Tiny.RoundedRectangle=function(t,e,i,n,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this.radius=r||20,this.type=Tiny.Primitives.RREC},Tiny.RoundedRectangle.prototype.clone=function(){return new Tiny.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},Tiny.RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(i<=t&&t<=i+this.width){var n=this.y;if(n<=e&&e<=n+this.height)return!0}return!1},Tiny.RoundedRectangle.prototype.constructor=Tiny.RoundedRectangle},function(t,e){Tiny.Polygon=function(){this.area=0,this._points=[],0<arguments.length&&this.setTo.apply(this,arguments),this.closed=!0,this.type=Tiny.Primitives.POLY},Tiny.Polygon.prototype={toNumberArray:function(t){void 0===t&&(t=[]);for(var e=0;e<this._points.length;e++)"number"==typeof this._points[e]?(t.push(this._points[e]),t.push(this._points[e+1]),e++):(t.push(this._points[e].x),t.push(this._points[e].y));return t},flatten:function(){return this._points=this.toNumberArray(),this},clone:function(t){var e=this._points.slice();return null==t?t=new Tiny.Polygon(e):t.setTo(e),t},contains:function(t,e){for(var i=this._points.length,n=!1,r=-1,s=i-1;++r<i;s=r){var o=this._points[r].x,h=this._points[r].y,a=this._points[s].x,u=this._points[s].y;(h<=e&&e<u||u<=e&&e<h)&&t<(a-o)*(e-h)/(u-h)+o&&(n=!n)}return n},setTo:function(t){if(this.area=0,this._points=[],0<arguments.length){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));for(var e,i=Number.MAX_VALUE,n=0,r=t.length;n<r;n++){"number"==typeof t[n]?(e=new Tiny.Point(t[n],t[n+1]),n++):e=new Tiny.Point(t[n].x,t[n].y),this._points.push(e),e.y<i&&(i=e.y)}this.calculateArea(i)}return this},calculateArea:function(t){for(var e,i,n,r,s=0,o=this._points.length;s<o;s++)e=this._points[s],i=s===o-1?this._points[0]:this._points[s+1],n=(e.y-t+(i.y-t))/2,r=e.x-i.x,this.area+=n*r;return this.area}},Tiny.Polygon.prototype.constructor=Tiny.Polygon,Object.defineProperty(Tiny.Polygon.prototype,"points",{get:function(){return this._points},set:function(t){null!=t?this.setTo(t):this.setTo()}})},function(t,e){Tiny.Circle=function(t,e,i){t=t||0,e=e||0,i=i||0,this.x=t,this.y=e,this._diameter=i,(this._radius=0)<i&&(this._radius=.5*i),this.type=Tiny.Primitives.CIRC},Tiny.Circle.prototype={getBounds:function(){return new Tiny.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},copyFrom:function(t){return this.setTo(t.x,t.y,t.diameter)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.diameter=this._diameter,t},distance:function(t,e){var i=Tiny.Math.distance(this.x,this.y,t.x,t.y);return e?Math.round(i):i},clone:function(t){return null==t?t=new Tiny.Circle(this.x,this.y,this.diameter):t.setTo(this.x,this.y,this.diameter),t},contains:function(t,e){return Tiny.Circle.contains(this,t,e)},offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)}},Tiny.Circle.prototype.constructor=Tiny.Circle,Object.defineProperty(Tiny.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(t){0<t&&(this._diameter=t,this._radius=.5*t)}}),Object.defineProperty(Tiny.Circle.prototype,"radius",{get:function(){return this._radius},set:function(t){0<t&&(this._radius=t,this._diameter=2*t)}}),Object.defineProperty(Tiny.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){t>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-t}}),Object.defineProperty(Tiny.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){t<this.x?(this._radius=0,this._diameter=0):this.radius=t-this.x}}),Object.defineProperty(Tiny.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t}}),Object.defineProperty(Tiny.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y}}),Object.defineProperty(Tiny.Circle.prototype,"area",{get:function(){return 0<this._radius?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(Tiny.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(t){!0===t&&this.setTo(0,0,0)}}),Tiny.Circle.contains=function(t,e,i){return 0<t.radius&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},Tiny.Circle.equals=function(t,e){return t.x==e.x&&t.y==e.y&&t.diameter==e.diameter},Tiny.Circle.intersects=function(t,e){return Tiny.Math.distance(t.x,t.y,e.x,e.y)<=t.radius+e.radius},Tiny.Circle.intersectsRectangle=function(t,e){var i=Math.abs(t.x-e.x-e.halfWidth);if(e.halfWidth+t.radius<i)return!1;var n=Math.abs(t.y-e.y-e.halfHeight);if(e.halfHeight+t.radius<n)return!1;if(i<=e.halfWidth||n<=e.halfHeight)return!0;var r=i-e.halfWidth,s=n-e.halfHeight;return r*r+s*s<=t.radius*t.radius}},function(t,e){Tiny.CanvasGraphics=function(){},Tiny.CanvasGraphics.renderGraphics=function(t,e){var i=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var r,s,o,h,a,u,l,c,d,p,y,f,T,g,x,m,v=t.graphicsData[n],b=v.shape,w=v._fillTint,_=v._lineTint;if(e.lineWidth=v.lineWidth,v.type===Tiny.Primitives.POLY){e.beginPath();var C=b.points;e.moveTo(C[0],C[1]);for(var S=1;S<C.length/2;S++)e.lineTo(C[2*S],C[2*S+1]);b.closed&&e.lineTo(C[0],C[1]),C[0]===C[C.length-2]&&C[1]===C[C.length-1]&&e.closePath(),v.fill&&(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.fill()),v.lineWidth&&(e.globalAlpha=v.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|_).toString(16)).substr(-6),e.stroke())}else{v.type===Tiny.Primitives.RECT?(!v.fillColor&&0!==v.fillColor||(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.fillRect(b.x,b.y,b.width,b.height)),v.lineWidth&&(e.globalAlpha=v.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|_).toString(16)).substr(-6),e.strokeRect(b.x,b.y,b.width,b.height))):v.type===Tiny.Primitives.CIRC?(e.beginPath(),e.arc(b.x,b.y,b.radius,0,2*Math.PI),e.closePath(),v.fill&&(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.fill()),v.lineWidth&&(e.globalAlpha=v.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|_).toString(16)).substr(-6),e.stroke())):v.type===Tiny.Primitives.ELIP?(r=2*b.width,s=2*b.height,o=b.x-r/2,h=b.y-s/2,e.beginPath(),a=r/2*.5522848,u=s/2*.5522848,l=o+r,c=h+s,d=o+r/2,p=h+s/2,e.moveTo(o,p),e.bezierCurveTo(o,p-u,d-a,h,d,h),e.bezierCurveTo(d+a,h,l,p-u,l,p),e.bezierCurveTo(l,p+u,d+a,c,d,c),e.bezierCurveTo(d-a,c,o,p+u,o,p),e.closePath(),v.fill&&(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.fill()),v.lineWidth&&(e.globalAlpha=v.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|_).toString(16)).substr(-6),e.stroke())):v.type===Tiny.Primitives.RREC?(f=b.x,T=b.y,g=b.width,x=b.height,m=b.radius,m=(y=Math.min(g,x)/2|0)<m?y:m,e.beginPath(),e.moveTo(f,T+m),e.lineTo(f,T+x-m),e.quadraticCurveTo(f,T+x,f+m,T+x),e.lineTo(f+g-m,T+x),e.quadraticCurveTo(f+g,T+x,f+g,T+x-m),e.lineTo(f+g,T+m),e.quadraticCurveTo(f+g,T,f+g-m,T),e.lineTo(f+m,T),e.quadraticCurveTo(f,T,f,T+m),e.closePath(),!v.fillColor&&0!==v.fillColor||(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.fill()),v.lineWidth&&(e.globalAlpha=v.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|_).toString(16)).substr(-6),e.stroke())):v.type===Tiny.Primitives.RREC_LJOIN&&(f=b.x,T=b.y,g=b.width,x=b.height,m=b.radius,!v.fillColor&&0!==v.fillColor||(e.globalAlpha=v.fillAlpha*i,e.fillStyle="#"+("00000"+(0|w).toString(16)).substr(-6),e.strokeStyle="#"+("00000"+(0|w).toString(16)).substr(-6)),e.lineJoin="round",e.lineWidth=m,e.strokeRect(f+m/2,T+m/2,g-m,x-m),e.fillRect(f+m/2,T+m/2,g-m,x-m))}}},Tiny.CanvasGraphics.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){e.beginPath();for(var n=0;n<i;n++){var r,s,o,h,a,u,l,c,d,p,y,f,T,g,x,m,v=t.graphicsData[n],b=v.shape;if(v.type===Tiny.Primitives.POLY){var w=b.points;e.moveTo(w[0],w[1]);for(var _=1;_<w.length/2;_++)e.lineTo(w[2*_],w[2*_+1]);w[0]===w[w.length-2]&&w[1]===w[w.length-1]&&e.closePath()}else{v.type===Tiny.Primitives.RECT?(e.rect(b.x,b.y,b.width,b.height),e.closePath()):v.type===Tiny.Primitives.CIRC?(e.arc(b.x,b.y,b.radius,0,2*Math.PI),e.closePath()):v.type===Tiny.Primitives.ELIP?(a=(r=2*b.width)/2*.5522848,u=(s=2*b.height)/2*.5522848,l=(o=b.x-r/2)+r,c=(h=b.y-s/2)+s,d=o+r/2,p=h+s/2,e.moveTo(o,p),e.bezierCurveTo(o,p-u,d-a,h,d,h),e.bezierCurveTo(d+a,h,l,p-u,l,p),e.bezierCurveTo(l,p+u,d+a,c,d,c),e.bezierCurveTo(d-a,c,o,p+u,o,p),e.closePath()):v.type!==Tiny.Primitives.RREC&&v.type!==Tiny.Primitives.RREC_LJOIN||(y=b.x,f=b.y,T=b.width,g=b.height,m=b.radius,m=(x=Math.min(T,g)/2|0)<m?x:m,e.moveTo(y,f+m),e.lineTo(y,f+g-m),e.quadraticCurveTo(y,f+g,y+m,f+g),e.lineTo(y+T-m,f+g),e.quadraticCurveTo(y+T,f+g,y+T,f+g-m),e.lineTo(y+T,f+m),e.quadraticCurveTo(y+T,f,y+T-m,f),e.lineTo(y+m,f),e.quadraticCurveTo(y,f,y,f+m),e.closePath())}}}},Tiny.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,r=0;r<t.graphicsData.length;r++){var s=t.graphicsData[r],o=0|s.fillColor,h=0|s.lineColor;s._fillTint=((o>>16&255)/255*e*255<<16)+((o>>8&255)/255*i*255<<8)+(255&o)/255*n*255,s._lineTint=((h>>16&255)/255*e*255<<16)+((h>>8&255)/255*i*255<<8)+(255&h)/255*n*255}}},function(t,e){Tiny.GraphicsData=function(t,e,i,n,r,s,o){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=n,this.fillAlpha=r,this._fillTint=n,this.fill=s,this.shape=o,this.type=o.type},Tiny.GraphicsData.prototype.constructor=Tiny.GraphicsData,Tiny.GraphicsData.prototype.clone=function(){return new GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},Tiny.Graphics=function(){Tiny.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode="source-over",this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new Tiny.Rectangle(0,0,1,1),this._boundsDirty=!0,this.cachedSpriteDirty=!1},Tiny.Graphics.prototype=Object.create(Tiny.DisplayObjectContainer.prototype),Tiny.Graphics.prototype.constructor=Tiny.Graphics,Tiny.Graphics.prototype.lineStyle=function(t,e,i){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===i?1:i,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new Tiny.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},Tiny.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new Tiny.Polygon([t,e])),this},Tiny.Graphics.prototype.lineTo=function(t,e){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(t,e),this._boundsDirty=!0,this.cachedSpriteDirty=!0,this},Tiny.Graphics.prototype.quadraticCurveTo=function(t,e,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r,s,o=this.currentPath.shape.points;0===o.length&&this.moveTo(0,0);for(var h=o[o.length-2],a=o[o.length-1],u=0,l=1;l<=20;++l)r=h+(t-h)*(u=l/20),s=a+(e-a)*u,o.push(r+(t+(i-t)*u-r)*u,s+(e+(n-e)*u-s)*u);return this._boundsDirty=!0,this.cachedSpriteDirty=!0,this},Tiny.Graphics.prototype.bezierCurveTo=function(t,e,i,n,r,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,h,a,u,l,c=this.currentPath.shape.points,d=c[c.length-2],p=c[c.length-1],y=0,f=1;f<=20;++f)a=(h=(o=1-(y=f/20))*o)*o,l=(u=y*y)*y,c.push(a*d+3*h*y*t+3*o*u*i+l*r,a*p+3*h*y*e+3*o*u*n+l*s);return this._boundsDirty=!0,this.cachedSpriteDirty=!0,this},Tiny.Graphics.prototype.arcTo=function(t,e,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s,o,h,a,u,l,c,d,p,y,f,T,g,x,m,v=this.currentPath.shape.points,b=v[v.length-2],w=v[v.length-1]-e,_=b-t,C=n-e,S=i-t,P=Math.abs(w*S-_*C);return P<1e-8||0===r?v[v.length-2]===t&&v[v.length-1]===e||v.push(t,e):(s=w*w+_*_,o=C*C+S*S,h=w*C+_*S,d=(a=r*Math.sqrt(s)/P)*S+(u=r*Math.sqrt(o)/P)*_,p=a*C+u*w,y=_*(u+(l=a*h/s)),f=w*(u+l),T=S*(a+(c=u*h/o)),g=C*(a+c),x=Math.atan2(f-p,y-d),m=Math.atan2(g-p,T-d),this.arc(d+t,p+e,r,x,m,S*w<_*C)),this._boundsDirty=!0,this.cachedSpriteDirty=!0,this},Tiny.Graphics.prototype.arc=function(t,e,i,n,r,s){if(n===r)return this;void 0===s&&(s=!1),!s&&r<=n?r+=2*Math.PI:s&&n<=r&&(n+=2*Math.PI);var o=s?-1*(n-r):r-n,h=40*Math.ceil(Math.abs(o)/(2*Math.PI));if(0==o)return this;var a=t+Math.cos(n)*i,u=e+Math.sin(n)*i;s&&this.filling?this.moveTo(t,e):this.moveTo(a,u);for(var l=this.currentPath.shape.points,c=o/(2*h),d=2*c,p=Math.cos(c),y=Math.sin(c),f=h-1,T=f%1/f,g=0;g<=f;g++){var x=c+n+d*(g+T*g),m=Math.cos(x),v=-Math.sin(x);l.push((p*m+y*v)*i+t,(p*-v+y*m)*i+e)}return this._boundsDirty=!0,this.cachedSpriteDirty=!0,this},Tiny.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},Tiny.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},Tiny.Graphics.prototype.drawRect=function(t,e,i,n){return this.drawShape(new Tiny.Rectangle(t,e,i,n)),this},Tiny.Graphics.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new Tiny.RoundedRectangle(t,e,i,n,r)),this},Tiny.Graphics.prototype.drawRoundedRect2=function(t,e,i,n,r){var s=new Tiny.RoundedRectangle(t,e,i,n,r);return s.type=Tiny.Primitives.RREC_LJOIN,this.drawShape(s),this},Tiny.Graphics.prototype.drawCircle=function(t,e,i){return this.drawShape(new Tiny.Circle(t,e,i)),this},Tiny.Graphics.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new Tiny.Ellipse(t,e,i,n)),this},Tiny.Graphics.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}return this.drawShape(new Tiny.Polygon(e)),this},Tiny.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this._boundsDirty=!0,this.cachedSpriteDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},Tiny.Graphics.prototype.destroy=function(t){if(this.children){for(var e=this.children.length;e--;)this.children[e].destroy();this.children=[]}this.clear()},Tiny.Graphics.prototype.generateTexture=function(t,e){t=t||1;var i=this.getBounds(),n=new Tiny.CanvasBuffer(i.width*t,i.height*t),r=Tiny.Texture.fromCanvas(n.canvas,e);return r.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-i.x,-i.y),Tiny.CanvasGraphics.renderGraphics(this,n.context),r},Tiny.Graphics.prototype._renderCanvas=function(t){if(!0!==this.isMask){if(this._prevTint!==this.tint&&(this._boundsDirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)return this.cachedSpriteDirty&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this._boundsDirty=!1),this._cachedSprite.alpha=this.alpha,void Tiny.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,i=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.currentBlendMode),this._mask&&t.maskManager.pushMask(this._mask,t);var n=t.resolution;e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),Tiny.CanvasGraphics.renderGraphics(this,e);for(var r=0;r<this.children.length;r++)this.children[r]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Tiny.Graphics.prototype.getBounds=function(t){if(!this._currentBounds||this._boundsDirty){if(!this.renderable)return Tiny.EmptyRectangle;this._boundsDirty&&(this.updateLocalBounds(),this.cachedSpriteDirty=!0,this._boundsDirty=!1);var e=this._localBounds,i=e.x,n=e.width+e.x,r=e.y,s=e.height+e.y,o=t||this.worldTransform,h=o.a,a=o.b,u=o.c,l=o.d,c=o.tx,d=o.ty,p=h*n+u*s+c,y=l*s+a*n+d,f=h*i+u*s+c,T=l*s+a*i+d,g=h*i+u*r+c,x=l*r+a*i+d,m=h*n+u*r+c,v=l*r+a*n+d,b=p,w=y,_=p,C=y;_=m<(_=g<(_=f<_?f:_)?g:_)?m:_,C=v<(C=x<(C=T<C?T:C)?x:C)?v:C,b=(b=(b=b<f?f:b)<g?g:b)<m?m:b,w=(w=(w=w<T?T:w)<x?x:w)<v?v:w,this._bounds.x=_,this._bounds.width=b-_,this._bounds.y=C,this._bounds.height=w-C,this._currentBounds=this._bounds}return this._currentBounds},Tiny.Graphics.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,tempPoint);for(var e=this.graphicsData,i=0;i<e.length;i++){var n=e[i];if(n.fill&&(n.shape&&n.shape.contains(tempPoint.x,tempPoint.y)))return!0}return!1},Tiny.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var r,s,o,h,a,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineWidth,p=l.shape;if(c===Tiny.Primitives.RECT||c===Tiny.Primitives.RREC||c===Tiny.Primitives.RREC_LJOIN)s=p.x-d/2,o=p.y-d/2,t=s<t?s:t,e=e<s+(h=p.width+d)?s+h:e,i=o<i?o:i,n=n<o+(a=p.height+d)?o+a:n;else if(c===Tiny.Primitives.CIRC)s=p.x,o=p.y,t=s-(h=p.radius+d/2)<t?s-h:t,e=e<s+h?s+h:e,i=o-(a=p.radius+d/2)<i?o-a:i,n=n<o+a?o+a:n;else if(c===Tiny.Primitives.ELIP)s=p.x,o=p.y,t=s-(h=p.width+d/2)<t?s-h:t,e=e<s+h?s+h:e,i=o-(a=p.height+d/2)<i?o-a:i,n=n<o+a?o+a:n;else{r=p.points;for(var y=0;y<r.length;y++)r[y]instanceof Tiny.Point?(s=r[y].x,o=r[y].y):(s=r[y],o=r[y+1],y<r.length-1&&y++),t=s-d<t?s-d:t,e=e<s+d?s+d:e,i=o-d<i?o-d:i,n=n<o+d?o+d:n}}else n=i=e=t=0;var f=this.boundsPadding;this._localBounds.x=t-f,this._localBounds.width=e-t+2*f,this._localBounds.y=i-f,this._localBounds.height=n-i+2*f},Tiny.Graphics.prototype._generateCachedSprite=function(){var t,e,i=this.getLocalBounds();this._cachedSprite?this._cachedSprite.buffer.resize(i.width,i.height):(t=new Tiny.CanvasBuffer(i.width,i.height),e=Tiny.Texture.fromCanvas(t.canvas),this._cachedSprite=new Tiny.Sprite(e),this._cachedSprite.buffer=t,this._cachedSprite.worldTransform=this.worldTransform),this._cachedSprite.anchor.x=-(i.x/i.width),this._cachedSprite.anchor.y=-(i.y/i.height),this._cachedSprite.buffer.context.translate(-i.x,-i.y),this.worldAlpha=1,Tiny.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},Tiny.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},Tiny.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},Tiny.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,t instanceof Tiny.Polygon&&t.flatten();var e=new Tiny.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===Tiny.Primitives.POLY&&(e.shape.closed=this.filling,this.currentPath=e),this._boundsDirty=!0,this.cachedSpriteDirty=!0,e},Object.defineProperty(Tiny.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this._boundsDirty=!0)}})},function(t,e){Tiny.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},Tiny.CanvasBuffer.prototype.constructor=Tiny.CanvasBuffer,Tiny.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},Tiny.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e}},function(t,e){Tiny.CanvasMaskManager=function(){},Tiny.CanvasMaskManager.prototype.constructor=Tiny.CanvasMaskManager,Tiny.CanvasMaskManager.prototype.pushMask=function(t,e){var i=e.context;i.save();var n=t.alpha,r=t.worldTransform,s=e.resolution;i.setTransform(r.a*s,r.b*s,r.c*s,r.d*s,r.tx*s,r.ty*s),Tiny.CanvasGraphics.renderGraphicsMask(t,i),i.clip(),t.worldAlpha=n},Tiny.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()}},function(t,e,i){(function(e){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}t.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:h.now();0<i.length;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var r=this._tweens[i[n]];r&&!1===r.update(t)&&(r._isPlaying=!1,e||delete this._tweens[i[n]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var n,h=new t;h.Group=t,h._nextId=0,h.nextId=function(){return h._nextId++},"undefined"==typeof self&&void 0!==e&&e.hrtime?h.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?h.now=self.performance.now.bind(self.performance):void 0!==Date.now?h.now=Date.now:h.now=function(){return(new Date).getTime()},h.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=h.Easing.Linear.None,this._interpolationFunction=h.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||h,this._id=h.nextId()},h.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?h.now()+parseFloat(t):t:h.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===t?h.now():t,this._group.remove(this)),this},resume:function(t){return this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=(void 0===t?h.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this)),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,n,r,s,o;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||1<i?1:i,n=this._easingFunction(i),this._valuesEnd){void 0!==this._valuesStart[e]&&(r=this._valuesStart[e]||0,(s=this._valuesEnd[e])instanceof Array?this._object[e]=this._interpolationFunction(s,n):("string"==typeof s&&(s="+"===s.charAt(0)||"-"===s.charAt(0)?r+parseFloat(s):parseFloat(s)),"number"==typeof s&&(this._object[e]=r+(s-r)*n)))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1!==i)return!0;if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){"string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&(o=this._valuesStartRepeat[e],this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=o),this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var h=0,a=this._chainedTweens.length;h<a;h++)this._chainedTweens[h].start(this._startTime+this._duration);return!1}},h.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-h.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*h.Easing.Bounce.In(2*t):.5*h.Easing.Bounce.Out(2*t-1)+.5}}},h.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=h.Interpolation.Utils.Linear;return e<0?s(t[0],t[1],n):1<e?s(t[i],t[i-1],i-n):s(t[r],t[i<r+1?i:r+1],n-r)},Bezier:function(t,e){for(var i=0,n=t.length-1,r=Math.pow,s=h.Interpolation.Utils.Bernstein,o=0;o<=n;o++)i+=r(1-e,n-o)*r(e,o)*t[o]*s(n,o);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=h.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(r=Math.floor(n=i*(1+e))),s(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],n-r)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):1<e?t[i]-(s(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):s(t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2],n-r)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=h.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;1<i;i--)e*=i;return n[t]=e}),CatmullRom:function(t,e,i,n,r){var s=.5*(i-t),o=.5*(n-e),h=r*r;return(2*e-2*i+s+o)*(r*h)+(-3*e+3*i-2*s-o)*h+s*r+e}}},window.TWEEN=h}).call(this,i(33))},function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,u=[],l=!1,c=-1;function d(){l&&a&&(l=!1,a.length?u=a.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=h(d);l=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function f(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new y(t,e)),1!==u.length||l||h(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){i(19),i(25),i(26),i(27),i(28),i(29),i(35),i(36),i(30),i(31),i(37),i(32)},function(t,e){Tiny.TilingSprite=function(t,e,i,n){Tiny.Sprite.call(this,t,e),this._width=i||100,this._height=n||100,this.tileScale=new Tiny.Point(1,1),this.tileScaleOffset=new Tiny.Point(1,1),this.tilePosition=new Tiny.Point(0,0)},Tiny.TilingSprite.prototype=Object.create(Tiny.Sprite.prototype),Tiny.TilingSprite.prototype.constructor=Tiny.TilingSprite,Object.defineProperty(Tiny.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(Tiny.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),Tiny.TilingSprite.prototype.setTexture=function(t,e){var i=Tiny.Sprite.prototype.setTexture.call(this,t,e);this.refreshTexture=i},Tiny.TilingSprite.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha;var i=this.worldTransform,n=t.resolution;if(e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.currentBlendMode);var r=this.tilePosition,s=this.tileScale;r.x%=this.tilingTexture.baseTexture.width,r.y%=this.tilingTexture.baseTexture.height,e.scale(s.x,s.y),e.translate(r.x+this.anchor.x*-this._width,r.y+this.anchor.y*-this._height),e.fillStyle=this.__tilePattern,e.fillRect(-r.x,-r.y,this._width/s.x,this._height/s.y),e.scale(1/s.x,1/s.y),e.translate(-r.x+this.anchor.x*this._width,-r.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t);for(var o=0;o<this.children.length;o++)this.children[o]._renderCanvas(t)}},Tiny.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),n=t*-this.anchor.x,r=e*(1-this.anchor.y),s=e*-this.anchor.y,o=this.worldTransform,h=o.a,a=o.b,u=o.c,l=o.d,c=o.tx,d=o.ty,p=h*n+u*s+c,y=l*s+a*n+d,f=h*i+u*s+c,T=l*s+a*i+d,g=h*i+u*r+c,x=l*r+a*i+d,m=h*n+u*r+c,v=l*r+a*n+d,b=-1/0,w=-1/0,_=1/0,C=1/0;_=m<(_=g<(_=f<(_=p<_?p:_)?f:_)?g:_)?m:_,C=v<(C=x<(C=T<(C=y<C?y:C)?T:C)?x:C)?v:C,b=(b=(b=(b=b<p?p:b)<f?f:b)<g?g:b)<m?m:b,w=(w=(w=(w=w<y?y:w)<T?T:w)<x?x:w)<v?v:w;var S=this._bounds;return S.x=_,S.width=b-_,S.y=C,S.height=w-C,this._currentBounds=S},Tiny.TilingSprite.prototype.generateTilingTexture=function(t){var e,i,n,r,s;this.texture.baseTexture.hasLoaded&&((i=(e=this.texture).frame).width!==e.baseTexture.width||(i.height,e.baseTexture.height),(r=t?e.crop?(n=Tiny.getNextPowerOfTwo(e.crop.width),Tiny.getNextPowerOfTwo(e.crop.height)):(n=Tiny.getNextPowerOfTwo(i.width),Tiny.getNextPowerOfTwo(i.height)):e.crop?(n=e.crop.width,e.crop.height):(n=i.width,i.height),0)||(this.tilingTexture&&this.tilingTexture.isTiling?((s=this.tilingTexture.canvasBuffer).resize(n,r),this.tilingTexture.baseTexture.width=n,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(s=new Tiny.CanvasBuffer(n,r),this.tilingTexture=Tiny.Texture.fromCanvas(s.canvas),this.tilingTexture.canvasBuffer=s,this.tilingTexture.isTiling=!0),s.context.drawImage(e.baseTexture.source,e.crop.x,e.crop.y,e.crop.width,e.crop.height,0,0,n,r),this.tileScaleOffset.x=i.width/n,this.tileScaleOffset.y=i.height/r),this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0)},Tiny.TilingSprite.prototype.destroy=function(){Tiny.Sprite.prototype.destroy.call(this),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)}},function(t,e){Tiny.RenderTexture=function(t,e,i,n){this.width=t||100,this.height=e||100,this.resolution=n||1,this.frame=new Tiny.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new Tiny.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new Tiny.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.hasLoaded=!0,Tiny.Texture.call(this,this.baseTexture,new Tiny.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution)),this.renderer=i||Tiny.defaultRenderer,this.render=this.renderCanvas,this.textureBuffer=new Tiny.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas,this.valid=!0,this._updateUvs()},Tiny.RenderTexture.prototype=Object.create(Tiny.Texture.prototype),Tiny.RenderTexture.prototype.constructor=Tiny.RenderTexture,Tiny.RenderTexture.prototype.resize=function(t,e,i){t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,i&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.valid&&this.textureBuffer.resize(this.width,this.height))},Tiny.RenderTexture.prototype.clear=function(){this.valid&&this.textureBuffer.clear()},Tiny.RenderTexture.prototype.renderCanvas=function(t,e,i){if(this.valid){var n=t.worldTransform;n.identity(),e&&n.append(e),t.worldAlpha=1;for(var r=t.children,s=0,o=r.length;s<o;s++)r[s].updateTransform();i&&this.textureBuffer.clear();var h=this.textureBuffer.context,a=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,h),this.renderer.resolution=a}},Tiny.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},Tiny.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},Tiny.RenderTexture.prototype.getCanvas=function(){return this.textureBuffer.canvas}},function(t,e){var i,r,s;Tiny.CanvasTinter=function(){},Tiny.CanvasTinter.getTintedTexture=function(t,e){var i=t.texture,n=Tiny.CanvasTinter.canvas||document.createElement("canvas");return Tiny.CanvasTinter.tintMethod(i,e,n),Tiny.CanvasTinter.convertTintToImage?(new Image).src=n.toDataURL():Tiny.CanvasTinter.canvas=null,n},Tiny.CanvasTinter.tintWithMultiply=function(t,e,i){var n=i.getContext("2d"),r=t.crop;i.width=r.width,i.height=r.height,n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},Tiny.CanvasTinter.tintWithPerPixel=function(t,e,i){var n=i.getContext("2d"),r=t.crop;i.width=r.width,i.height=r.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height);for(var s,o=Tiny.hex2rgb(e),h=o[0],a=o[1],u=o[2],l=n.getImageData(0,0,r.width,r.height),c=l.data,d=0;d<c.length;d+=4){c[d+0]*=h,c[d+1]*=a,c[d+2]*=u,Tiny.canHandleAlpha||(s=c[d+3],c[d+0]/=255/s,c[d+1]/=255/s,c[d+2]/=255/s)}n.putImageData(l,0,0)},Tiny.CanvasTinter.convertTintToImage=!1,Tiny.canHandleAlpha=function(){var t=new Tiny.CanvasBuffer(2,1);t.context.fillStyle="rgba(10, 20, 30, 0.5)",t.context.fillRect(0,0,1,1);var e=t.context.getImageData(0,0,1,1);t.context.putImageData(e,1,0);var i=t.context.getImageData(1,0,1,1);return i.data[0]===e.data[0]&&i.data[1]===e.data[1]&&i.data[2]===e.data[2]&&i.data[3]===e.data[3]}(),Tiny.supportNewBlendModes=(i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(s=new Image).onload=function(){var n=new Image;n.onload=function(){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(s,0,0),e.drawImage(n,2,0),!e.getImageData(2,0,1,1))return!1;var i=e.getImageData(2,0,1,1).data;Tiny.supportNewBlendModes=255===i[0]&&0===i[1]&&0===i[2]},n.src=i+"/wCKxvRF"+r},s.src=i+"AP804Oa6"+r,!1),Tiny.CanvasTinter.tintMethod=Tiny.supportNewBlendModes?Tiny.CanvasTinter.tintWithMultiply:Tiny.CanvasTinter.tintWithPerPixel},,,function(t,e,i){i(34),i(41),i(42),i(43)},function(t,e){Tiny.CanvasPool={create:function(t,e,i){var n,r=Tiny.CanvasPool.getFirst(),s=-1===r?(n={parent:t,canvas:document.createElement("canvas")},Tiny.CanvasPool.pool.push(n),n.canvas):(Tiny.CanvasPool.pool[r].parent=t,Tiny.CanvasPool.pool[r].canvas);return void 0!==e&&(s.width=e,s.height=i),s},getFirst:function(){for(var t=Tiny.CanvasPool.pool,e=0;e<t.length;e++)if(!t[e].parent)return e;return-1},remove:function(t){for(var e=Tiny.CanvasPool.pool,i=0;i<e.length;i++)e[i].parent===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},removeByCanvas:function(t){for(var e=Tiny.CanvasPool.pool,i=0;i<e.length;i++)e[i].canvas===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},getTotal:function(){for(var t=Tiny.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent&&e++;return e},getFree:function(){for(var t=Tiny.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent||e++;return e},log:function(){console.log("CanvasPool: %s used, %s free, %s total",this.getTotal(),this.getFree(),this.pool.length)}},Tiny.CanvasPool.pool=[],Object.defineProperty(Tiny.CanvasPool,"length",{get:function(){return this.pool.length}})},function(l,c,d){var p;(function(){var t,i,e,n,r,s,o,h,a=Tiny.Device,u={};Tiny.Device=u,i=window.document.documentElement,h=window.navigator.userAgent.toLowerCase(),u.ios=function(){return u.iphone()||u.ipod()||u.ipad()},u.iphone=function(){return!u.windows()&&e("iphone")},u.ipod=function(){return e("ipod")},u.ipad=function(){return e("ipad")},u.android=function(){return!u.windows()&&e("android")},u.androidPhone=function(){return u.android()&&e("mobile")},u.androidTablet=function(){return u.android()&&!e("mobile")},u.blackberry=function(){return e("blackberry")||e("bb10")||e("rim")},u.blackberryPhone=function(){return u.blackberry()&&!e("tablet")},u.blackberryTablet=function(){return u.blackberry()&&e("tablet")},u.windows=function(){return e("windows")},u.windowsPhone=function(){return u.windows()&&e("phone")},u.windowsTablet=function(){return u.windows()&&e("touch")&&!u.windowsPhone()},u.fxos=function(){return(e("(mobile;")||e("(tablet;"))&&e("; rv:")},u.fxosPhone=function(){return u.fxos()&&e("mobile")},u.fxosTablet=function(){return u.fxos()&&e("tablet")},u.meego=function(){return e("meego")},u.cordova=function(){return window.cordova&&"file:"===location.protocol},u.nodeWebkit=function(){return"object"==typeof window.process},u.mobile=function(){return u.androidPhone()||u.iphone()||u.ipod()||u.windowsPhone()||u.blackberryPhone()||u.fxosPhone()||u.meego()},u.tablet=function(){return u.ipad()||u.androidTablet()||u.blackberryTablet()||u.windowsTablet()||u.fxosTablet()},u.desktop=function(){return!u.tablet()&&!u.mobile()},u.portrait=function(){return 1<window.innerHeight/window.innerWidth},u.landscape=function(){return window.innerHeight/window.innerWidth<1},u.noConflict=function(){return Tiny.Device=a,this},e=function(t){return-1!==h.indexOf(t)},r=function(t){var e=new RegExp(t,"i");return i.className.match(e)},t=function(t){var e=null;r(t)||(e=i.className.replace(/^\s+|\s+$/g,""),i.className=e+" "+t)},o=function(t){r(t)&&(i.className=i.className.replace(" "+t,""))},u.ios()?u.ipad()?t("ios ipad tablet"):u.iphone()?t("ios iphone mobile"):u.ipod()&&t("ios ipod mobile"):u.android()?u.androidTablet()?t("android tablet"):t("android mobile"):u.blackberry()?u.blackberryTablet()?t("blackberry tablet"):t("blackberry mobile"):u.windows()?u.windowsTablet()?t("windows tablet"):u.windowsPhone()?t("windows mobile"):t("desktop"):u.fxos()?u.fxosTablet()?t("fxos tablet"):t("fxos mobile"):u.meego()?t("meego mobile"):u.nodeWebkit()?t("node-webkit"):u.desktop()&&t("desktop"),u.cordova()&&t("cordova"),n=function(){u.landscape()?(o("portrait"),t("landscape")):(o("landscape"),t("portrait"))},s=Object.prototype.hasOwnProperty.call(window,"onorientationchange")?"orientationchange":"resize",window.addEventListener?window.addEventListener(s,n,!1):window.attachEvent?window.attachEvent(s,n):window[s]=n,n(),void 0===(p=function(){return u}.call(c,d,c,l))||(l.exports=p)}).call(this)},function(t,e){Tiny.Color={RED:16711680,ORANGE:16750848,YELLOW:16776960,GREEN:65280,AQUA:65535,BLUE:255,VIOLET:16711935,WHITE:16777215,BLACK:0,GRAY:6710886,packPixel:function(t,e,i,n){return Tiny.Device.LITTLE_ENDIAN?(n<<24|i<<16|e<<8|t)>>>0:(t<<24|e<<16|i<<8|n)>>>0},unpackPixel:function(t,e,i,n){return null==e&&(e=Tiny.Color.createColor()),null==i&&(i=!1),null==n&&(n=!1),Tiny.Device.LITTLE_ENDIAN?(e.a=(4278190080&t)>>>24,e.b=(16711680&t)>>>16,e.g=(65280&t)>>>8,e.r=255&t):(e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t),e.color=t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")",i&&Tiny.Color.RGBtoHSL(e.r,e.g,e.b,e),n&&Tiny.Color.RGBtoHSV(e.r,e.g,e.b,e),e},fromRGBA:function(t,e){return(e=e||Tiny.Color.createColor()).r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a+")",e},toRGBA:function(t,e,i,n){return t<<24|e<<16|i<<8|n},toABGR:function(t,e,i,n){return(n<<24|i<<16|e<<8|t)>>>0},hexToRGBArray:function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},RGBArrayToHex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},RGBtoHSL:function(t,e,i,n){n=n||Tiny.Color.createColor(t,e,i,1),t/=255,e/=255,i/=255;var r,s=Math.min(t,e,i),o=Math.max(t,e,i);return n.h=0,n.s=0,n.l=(o+s)/2,o!==s&&(r=o-s,n.s=.5<n.l?r/(2-o-s):r/(o+s),o===t?n.h=(e-i)/r+(e<i?6:0):o===e?n.h=(i-t)/r+2:o===i&&(n.h=(t-e)/r+4),n.h/=6),n},HSLtoRGB:function(t,e,i,n){var r,s;return n?(n.r=i,n.g=i,n.b=i):n=Tiny.Color.createColor(i,i,i),0!==e&&(s=2*i-(r=i<.5?i*(1+e):i+e-i*e),n.r=Tiny.Color.hueToColor(s,r,t+1/3),n.g=Tiny.Color.hueToColor(s,r,t),n.b=Tiny.Color.hueToColor(s,r,t-1/3)),n.r=Math.floor(255*n.r|0),n.g=Math.floor(255*n.g|0),n.b=Math.floor(255*n.b|0),Tiny.Color.updateColor(n),n},RGBtoHSV:function(t,e,i,n){n=n||Tiny.Color.createColor(t,e,i,255),t/=255,e/=255,i/=255;var r=Math.min(t,e,i),s=Math.max(t,e,i),o=s-r;return n.h=0,n.s=0===s?0:o/s,(n.v=s)!==r&&(s===t?n.h=(e-i)/o+(e<i?6:0):s===e?n.h=(i-t)/o+2:s===i&&(n.h=(t-e)/o+4),n.h/=6),n},HSVtoRGB:function(t,e,i,n){var r,s,o;void 0===n&&(n=Tiny.Color.createColor(0,0,0,1,t,e,0,i));var h=Math.floor(6*t),a=6*t-h,u=i*(1-e),l=i*(1-a*e),c=i*(1-(1-a)*e);switch(h%6){case 0:r=i,s=c,o=u;break;case 1:r=l,s=i,o=u;break;case 2:r=u,s=i,o=c;break;case 3:r=u,s=l,o=i;break;case 4:r=c,s=u,o=i;break;case 5:r=i,s=u,o=l}return n.r=Math.floor(255*r),n.g=Math.floor(255*s),n.b=Math.floor(255*o),Tiny.Color.updateColor(n),n},hueToColor:function(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},createColor:function(t,e,i,n,r,s,o,h){var a={r:t||0,g:e||0,b:i||0,a:n||1,h:r||0,s:s||0,l:o||0,v:h||0,color:0,color32:0,rgba:""};return Tiny.Color.updateColor(a)},updateColor:function(t){return t.rgba="rgba("+t.r.toFixed()+","+t.g.toFixed()+","+t.b.toFixed()+","+t.a.toString()+")",t.color=Tiny.Color.getColor(t.r,t.g,t.b),t.color32=Tiny.Color.getColor32(255*t.a,t.r,t.g,t.b),t},getColor32:function(t,e,i,n){return t<<24|e<<16|i<<8|n},getColor:function(t,e,i){return t<<16|e<<8|i},RGBtoString:function(t,e,i,n,r){return void 0===n&&(n=255),void 0===r&&(r="#"),"#"===r?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+Tiny.Color.componentToHex(n)+Tiny.Color.componentToHex(t)+Tiny.Color.componentToHex(e)+Tiny.Color.componentToHex(i)},hexToRGB:function(t){var e=Tiny.Color.hexToColor(t);if(e)return Tiny.Color.getColor32(e.a,e.r,e.g,e.b)},hexToColor:function(t,e){t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var i,n,r,s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s&&(i=parseInt(s[1],16),n=parseInt(s[2],16),r=parseInt(s[3],16),e?(e.r=i,e.g=n,e.b=r):e=Tiny.Color.createColor(i,n,r)),e},webToColor:function(t,e){e=e||Tiny.Color.createColor();var i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);return i&&(e.r=~~Number(i[1]),e.g=~~Number(i[2]),e.b=~~Number(i[3]),e.a=void 0!==i[4]?Number(i[4]):1,Tiny.Color.updateColor(e)),e},valueToColor:function(t,e){if(e=e||Tiny.Color.createColor(),"string"==typeof t)return 0===t.indexOf("rgb")?Tiny.Color.webToColor(t,e):(e.a=1,Tiny.Color.hexToColor(t,e));if("number"!=typeof t)return e;var i=Tiny.Color.getRGB(t);return e.r=i.r,e.g=i.g,e.b=i.b,e.a=i.a/255,e},componentToHex:function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},HSVColorWheel:function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],n=0;n<=359;n++)i.push(Tiny.Color.HSVtoRGB(n/359,t,e));return i},HSLColorWheel:function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.5);for(var i=[],n=0;n<=359;n++)i.push(Tiny.Color.HSLtoRGB(n/359,t,e));return i},interpolateColor:function(t,e,i,n,r,s){void 0===r&&(r=255),void 0===s&&(s=0);var o,h,a,u,l,c,d,p,y,f,T,g=Tiny.Color.getRGB(t),x=Tiny.Color.getRGB(e);return 0===s&&(y=(x.red-g.red)*n/i+g.red,f=(x.green-g.green)*n/i+g.green,T=(x.blue-g.blue)*n/i+g.blue),1===s&&(o=Tiny.Color.RGBtoHSV(g.r,g.g,g.b),a=(h=Tiny.Color.RGBtoHSV(x.r,x.g,x.b)).h-o.h,o.h>h.h&&(l=h.h,h.h=o.h,o.h=l,a=-a,n=i-n),.5<a&&(o.h=o.h+1,u=((h.h-o.h)*n/i+o.h)%1),a<=.5&&(u=(h.h-o.h)*n/i+o.h),c=(h.s-o.s)*n/i+o.s,d=(h.v-o.v)*n/i+o.v,y=(p=Tiny.Color.HSVtoRGB(u,c,d,p)).r,f=p.g,T=p.b),Tiny.Color.getColor32(r,y,f,T)},interpolateColorWithRGB:function(t,e,i,n,r,s){var o=Tiny.Color.getRGB(t),h=(e-o.red)*s/r+o.red,a=(i-o.green)*s/r+o.green,u=(n-o.blue)*s/r+o.blue;return Tiny.Color.getColor(h,a,u)},interpolateRGB:function(t,e,i,n,r,s,o,h){var a=(n-t)*h/o+t,u=(r-e)*h/o+e,l=(s-i)*h/o+i;return Tiny.Color.getColor(a,u,l)},linear:function(t,e,i){return this.interpolateColor(t,e,1,i)},linearInterpolation:function(t,e){var i=Tiny.Math.linear(0,t.length-1,e),n=t[Math.floor(i)],r=t[Math.ceil(i)];return this.linear(n,r,i%1)},getRandomColor:function(t,e,i){if(void 0===t&&(t=0),void 0===e&&(e=255),void 0===i&&(i=255),255<e||e<t)return Tiny.Color.getColor(255,255,255);var n=t+Math.round(Math.random()*(e-t)),r=t+Math.round(Math.random()*(e-t)),s=t+Math.round(Math.random()*(e-t));return Tiny.Color.getColor32(i,n,r,s)},getRGB:function(t){return 16777215<t?{alpha:t>>>24,red:t>>16&255,green:t>>8&255,blue:255&t,a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{alpha:255,red:t>>16&255,green:t>>8&255,blue:255&t,a:255,r:t>>16&255,g:t>>8&255,b:255&t}},getWebRGB:function(t){if("object"==typeof t)return"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")";var e=Tiny.Color.getRGB(t);return"rgba("+e.r.toString()+","+e.g.toString()+","+e.b.toString()+","+(e.a/255).toString()+")"},getAlpha:function(t){return t>>>24},getAlphaFloat:function(t){return(t>>>24)/255},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},blendNormal:function(t){return t},blendLighten:function(t,e){return t<e?e:t},blendDarken:function(t,e){return t<e?t:e},blendMultiply:function(t,e){return t*e/255},blendAverage:function(t,e){return(t+e)/2},blendAdd:function(t,e){return Math.min(255,t+e)},blendSubtract:function(t,e){return Math.max(0,t+e-255)},blendDifference:function(t,e){return Math.abs(t-e)},blendNegation:function(t,e){return 255-Math.abs(255-t-e)},blendScreen:function(t,e){return 255-((255-t)*(255-e)>>8)},blendExclusion:function(t,e){return t+e-2*t*e/255},blendOverlay:function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255},blendSoftLight:function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255},blendHardLight:function(t,e){return Tiny.Color.blendOverlay(e,t)},blendColorDodge:function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))},blendColorBurn:function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)},blendLinearDodge:function(t,e){return Tiny.Color.blendAdd(t,e)},blendLinearBurn:function(t,e){return Tiny.Color.blendSubtract(t,e)},blendLinearLight:function(t,e){return e<128?Tiny.Color.blendLinearBurn(t,2*e):Tiny.Color.blendLinearDodge(t,2*(e-128))},blendVividLight:function(t,e){return e<128?Tiny.Color.blendColorBurn(t,2*e):Tiny.Color.blendColorDodge(t,2*(e-128))},blendPinLight:function(t,e){return e<128?Tiny.Color.blendDarken(t,2*e):Tiny.Color.blendLighten(t,2*(e-128))},blendHardMix:function(t,e){return Tiny.Color.blendVividLight(t,e)<128?0:255},blendReflect:function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))},blendGlow:function(t,e){return Tiny.Color.blendReflect(e,t)},blendPhoenix:function(t,e){return Math.min(t,e)-Math.max(t,e)+255}}}]);